name: GHA Static Analyzer - Required Workflow

# Secrets are inherited from calling workflow within same org or enterprise
# For all other outside wortkflows
on:
  pull_request: {}
  workflow_dispatch: {}

jobs:
  check-anti-patterns:
    permissions:
      contents: read
      actions: read
      pull-requests: read
      # security-events: write # publish codeql results
    uses: Kong/public-shared-actions/.github/workflows/gh-analyze.yml@feat/gh-anti-pattern-scan 
    with:
      FAIL_ZIZMOR: ${{vars.FAIL_ZIZMOR}}